\usepackage{ifthen}

\newcommand{\iconForAboutMe}{\faUser}
\newcommand{\iconForEducation}{\faGraduationCap}
\newcommand{\iconForExperience}{\faWrench}
\newcommand{\iconForLanguages}{\faGlobe}
\newcommand{\iconForSkills}{\faFlask}
\newcommand{\iconForPortfolio}{\faBriefcase}

\newcommand{\iconForLists}{\faCaretRight}

\newcommand{\academicEntry}[3]{\workEntry{#1}{#2}{#3}{}}

\newcommand{\workEntry}[4]{\nopagebreak[4]
    \item[\iconForLists] \nopagebreak[4] {#1}                                        % Jobname
    \nopagebreak[4] \ifthenelse{\equal{#2}{}}{}{ \\ \textit{#2}}                     % Company
    \nopagebreak[4] \ifthenelse{\equal{#3}{}}{}{ \\ {\footnotesize \faCalendar* #3}} % Duration
    \nopagebreak[4] \ifthenelse{\equal{#4}{}}{}{ \\ \hangindent=2em\hangafter=0
        \small {#4} \normalsize                                                      % Description
    }
}

\newcommand{\topMetric}{4}

\newcommand{\textAndMetric}[3]{
    {#1}\hfill
    \foreach \x in {1,..., #3}{
        \getLevelSquare{\x}{#2}
    }
    \vspace{-2pt}
}

\newcommand{\languageEntryGeneric}{\languageEntryTableGeneric}

\newcommand{\languageEntrySimpleGeneric}[7]{
    \begin{samepage}
        \item[\iconForLists] \nopagebreak[4] {#1}
        \begin{itemize}
            \item[\faPeopleArrows] \nopagebreak[4] \textAndMetric{#2}{#3}{\topMetric}
            \item[\faPen] \nopagebreak[4] \textAndMetric{#4}{#5}{\topMetric}
            \item[\faBook] \nopagebreak[4] \textAndMetric{#6}{#7}{\topMetric}
        \end{itemize}
    \end{samepage}
}

\newcommand{\languageEntryTableGeneric}[4]{
    \def\beginnerLevel{#1}
    \def\mediumLevel{#2}
    \def\advancedLevel{#3}
    \def\nativeLevel{#4}
    \completeLanguageTable
}

\newcommand{\getLevelSquare}[2]{\ifnumgreater{#1}{#2}{\faSquare[regular]}{\faSquare}}

\newcommand{\completeLanguageTable}[7]{
    \def\spaceBetweenLines{\\ \vspace{5pt}}
    \item[\iconForLists] \nopagebreak[4] {#1} \\
    \begin{samepage}
        \begin{tabular*}{13cm}{@{\extracolsep{\fill}} c c c c c}
            & \beginnerLevel & \mediumLevel & \advancedLevel & \nativeLevel \spaceBetweenLines
            \faPeopleArrows \space #2 & \getLevelSquare{1}{#3} & \getLevelSquare{2}{#3} & \getLevelSquare{3}{#3} & \getLevelSquare{4}{#3} \spaceBetweenLines
            \faPen \space #4 & \getLevelSquare{1}{#5} & \getLevelSquare{2}{#5} & \getLevelSquare{3}{#5} & \getLevelSquare{4}{#5} \spaceBetweenLines
            \faBook \space #6 & \getLevelSquare{1}{#7} & \getLevelSquare{2}{#7} & \getLevelSquare{3}{#7} & \getLevelSquare{4}{#7} \spaceBetweenLines
        \end{tabular*}
    \end{samepage}
}


\newcommand{\skillEntry}[1]{\item[\iconForLists] #1}

\newcommand{\portfolioEntry}[2]{\workEntry{#1}{}{}{#2}}

\newcommand{\separator}[2]{\section*{#1 \space #2}}
\newcommand{\separatorLine}[2]{\noindent\hrulefill\separator{#1}{#2}}
